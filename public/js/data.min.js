$((function(){let a=$(".dmmapp-datatable").DataTable({dom:"Blfrtip",data:libraries,order:[],buttons:[{extend:"csvHtml5",text:'<span class="bi bi-download pull-left"></span> Download CSV</button>',className:"mb-3",title:"DMMapp data export"}],responsive:!0,columns:[{data:"library"},{data:"website"},{data:"quantity"},{data:"iiif"},{data:"copyright"},{data:"is_free_cultural_works_license"},{data:"nation"},{data:"city"},{data:"lat"},{data:"lng"},{data:"has_post"},{data:"library_name_slug"},{data:"is_disabled"}],columnDefs:[{className:"dt-center",targets:"_all"},{target:0,responsivePriority:1},{target:1,responsivePriority:2,orderable:!1,render:function(a,e,t){return'<p style="display:none">'+t.website+'</p><a class="btn btn-outline-primary" href="'+t.website+'" id="dmmapp-link" role="button"><i class="bi bi-link-45deg"></i> Digitized manuscripts  <sup><i class="bi bi-box-arrow-up-right small"></i></sup></a>'}},{targets:[3,5],render:function(a){return 1===a||"1"===a?"<p style='display:none'>yes</p><i class='bi bi-check-circle-fill text-success' style='font-size: 2rem;'></i>":"<p style='display:none'>no</p><i class='bi bi-x-circle-fill text-danger' style='font-size: 2rem;'></i>"}},{targets:[4,6,7,8,9],visible:!1,searchable:!0},{targets:[4,8,9,10,11,12]},{targets:[8,9],visible:!1,searchable:!1},{target:10,orderable:!1,render:function(a,e,t){return'<a class="btn btn-outline-secondary" data-dmmapp="explore" id="explore-button" href="'+t.library_name_slug+'" role="button"><i class="bi bi-search"></i> Explore</a>'}},{target:11,orderable:!1,render:function(a,e,t){return 1===t.has_post||"1"===t.has_post?'<a class="btn btn-outline-secondary" href="'+t.post_url+'" role="button">Read <sup><i class="bi bi-box-arrow-up-right small"></i></sup></a>':"<p>No post available</p>"}},{target:12,visible:!1}],rowCallback:function(a,e){1!==e.is_disabled&&"1"!==e.is_disabled||($("#dmmapp-link",a).addClass("disabled btn-outline-danger").removeClass("btn-outline-primary"),$("#explore-button",a).addClass("btn-outline-danger").removeClass("btn-outline-secondary").html((function(){return $(this).html().replace('<i class="bi bi-search"></i> Explore','<i class="bi bi-exclamation-triangle"></i> More information')})))}});a.responsive.recalc(),a.columns.adjust()}));
